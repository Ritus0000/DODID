:root{
    --accent:#ffd000;
    --ink:#000;
    --muted:#777;
    --ring:#aaa;
    --brand:#8a8a8a;
    --phone-w:390px; --phone-h:844px;

    --pop-duration:520ms; /* рождение кружка */
}

body{
  font-family:"Helvetica Neue",-apple-system,BlinkMacSystemFont,"Segoe UI",Arial,sans-serif;
  background:#fff; color:var(--ink); margin:0;
}
.wrapper{
  min-height:100vh; display:flex; align-items:center; justify-content:center;
  background:#e9edf1; padding:16px; box-sizing:border-box;
}
.phone{
  width:var(--phone-w); height:var(--phone-h);
  background:#fff; border-radius:34px;
  box-shadow:0 18px 50px rgba(0,0,0,.18);
  position:relative; overflow:hidden;
}
@media (max-width:480px),(hover:none) and (pointer:coarse){
  .wrapper{padding:0; background:#fff;}
  .phone{width:100%; height:100dvh; border-radius:0; box-shadow:none;}
}

/* ===== statusbar & island ===== */
.statusbar{
  height:47px; display:flex; align-items:center; justify-content:space-between;
  padding:0 12px; font-size:14px; font-weight:600; background:#fff;
}
.island{
  position:absolute; top:9px; left:50%; transform:translateX(-50%);
  width:120px; height:32px; background:#000; border-radius:20px;
}

/* ===== app container ===== */
.app{
  position:absolute; inset:0;
  display:flex; flex-direction:column;
  padding:70px 0 calc(24px + env(safe-area-inset-bottom)) 0;
  box-sizing:border-box;
  background:#fff; -webkit-tap-highlight-color:transparent;
}

/* ===== header (день недели) ===== */
.header{
  flex:0 0 auto;
  font-size:32px; font-weight:800;
  padding:0 18px 10px;
}

/* ===== tasks list ===== */
#tasks{
  flex:1 1 auto;
  list-style:none; margin:0; padding:0 18px;
  overflow-y:auto; -webkit-overflow-scrolling:touch;
  scrollbar-width:none;
}
#tasks.scrolling{ scrollbar-width:thin; scrollbar-color:rgba(0,0,0,.22) transparent; }
#tasks::-webkit-scrollbar{ width:1px; height:1px; }
#tasks::-webkit-scrollbar-button{ display:none; width:0; height:0; }
#tasks::-webkit-scrollbar-track{ background:transparent; }
#tasks::-webkit-scrollbar-thumb{ background-color:rgba(0,0,0,0); }
#tasks.scrolling::-webkit-scrollbar-thumb{ background-color:rgba(0,0,0,.24); }

li{
  display:flex; align-items:flex-start;
  padding:6px 4px;
  font-size:18px; line-height:1.25;
}

/* ===== circle checkbox ===== */
.circle{
  width:20px; height:20px;
  border:2px solid var(--ring); border-radius:50%;
  margin-right:10px; margin-top:2px; flex-shrink:0;
  cursor:pointer; display:flex; align-items:center; justify-content:center;
  transition: transform 90ms ease, box-shadow 90ms ease,
              background-color 140ms ease, border-color 140ms ease;
  box-shadow:none; position:relative;
}
.circle.touch{ transform:scale(0.95); box-shadow: inset 0 1.5px 3px rgba(0,0,0,.25); }
.circle.born{ animation: pop var(--pop-duration) cubic-bezier(.2,.8,.2,1) forwards; transform:scale(0); }
@keyframes pop{ 0%{transform:scale(0);} 70%{transform:scale(1.14);} 100%{transform:scale(1);} }

.tick{ width:14px; height:14px; display:block; }
.tick path{ fill:none; stroke:#fff; stroke-width:2.2; stroke-linecap:round; }
.done .circle{ background:var(--accent); border-color:var(--accent); }

/* ===== text with placeholder ===== */
.textwrap{ position:relative; flex:1; }
.task-text{
  position:relative; min-height:1.25em;
  white-space:pre-wrap; word-break:break-word;
  outline:none; border:none; background:transparent; font:inherit; color:var(--ink);
  padding:2px 0 4px;
}
.task-text::before{
  content:attr(data-placeholder);
  position:absolute; left:0; top:0;
  color:#b4b4b4; pointer-events:none;
  opacity:0; transform:translateY(2px);
  transition:opacity 220ms ease, transform 220ms ease;
}
.task-text.empty::before{ opacity:1; transform:translateY(0); }
.done .task-text{ color:var(--muted); }

/* ===== strike line ===== */
.strike-svg{ position:absolute; inset:0; pointer-events:none; overflow:visible; }
.strike-line{
  stroke:currentColor; stroke-width:1; stroke-linecap:round;
  stroke-dasharray:var(--len,0); stroke-dashoffset:var(--len,0);
  transition:stroke-dashoffset 320ms cubic-bezier(.4,0,.2,1);
  opacity:.95;
}

/* ===== bottom dock ===== */
.bottomDock{
  flex:0 0 auto;
  display:flex; align-items:center; justify-content:space-between;
  padding:10px 18px;
  background:#fff; border-top:1px solid #eee;
}
.brand{
  font-family:"Fredoka",system-ui,-apple-system,sans-serif;
  font-weight:700; font-size:22px; letter-spacing:.5px; color:var(--brand);
  user-select:none;
}
.fab{
  width:54px; height:54px; border-radius:50%;
  background:var(--accent); color:#fff; font-size:32px; line-height:0;
  border:none; cursor:pointer;
  display:flex; align-items:center; justify-content:center;
  box-shadow:0 6px 12px rgba(0,0,0,.16);
  will-change:transform, box-shadow;
  transition:transform 120ms ease, box-shadow 120ms ease;
}
.fab.pressed{ box-shadow:none; transform:translateY(2px) scale(0.98); }

@media (prefers-reduced-motion:reduce){
  *{ animation:none !important; transition:none !important; }
}
